{% extends "base.html" %}
{% load widget_tweaks %}
{% block content %}

<h1>Organization Profile</h1>
<form class="form-horizontal" role="form" action='.' method='post'>
{% csrf_token %}

<div class="form-errors">

	{% if admin_form.errors %}
	    {% for field in admin_form %}
	        {% for error in field.errors %}
	            <div class="alert alert-error">
	                {{ field.label }} - {{ error|escape }}</strong>
	            </div>
	        {% endfor %}
	    {% endfor %}
	    {% for error in admin_form.non_field_errors %}
	        <div class="alert alert-error">
	            {{ error|escape }}
	        </div>
	    {% endfor %}
	{% endif %}

	{% if provider_form.errors %}
	    {% for field in provider_form %}
	        {% for error in field.errors %}
	            <div class="alert alert-error">
	                {{ field.label }} - {{ error|escape }}
	            </div>
	        {% endfor %}
	    {% endfor %}
	    {% for error in provider_form.non_field_errors %}
	        <div class="alert alert-error">
	            {{ error|escape }}
	        </div>
	    {% endfor %}
	{% endif %}

	{% for location_form in location_formset %}
		{% if location_form.errors %}
		    {% for field in location_form %}
		        {% for error in field.errors %}
		            <div class="alert alert-error">
		                {{ field.label }} - {{ error|escape }}
		            </div>
		        {% endfor %}
		    {% endfor %}
		    {% for error in location_form.non_field_errors %}
		        <div class="alert alert-error">
		            {{ error|escape }}
		        </div>
		    {% endfor %}
		{% endif %}
	{% endfor %}

</div>


<h2>Organization information</h2>
<div class="provider-form">

	<div class="form-group{% if field.errors %} has-error{% endif %}">
	<label>Name</label>
	<div>
	{% render_field provider_form.name class+="form-control" %}
	</div>
	</div>

	<div class="form-group{% if field.errors %} has-error{% endif %}">
	<label>Website URL</label>
	<div>
	{% render_field provider_form.URL type="URL" class+="form-control" %}
	</div>
	</div>

</div>

<h2>Point of contact's information</h2>
<div class="admin-form">

	<div class="form-group{% if field.errors %} has-error{% endif %}">
	<label>Username</label>
	<div>
	{% render_field admin_form.username class+="form-control" %}
	</div>
	</div>

	<div class="form-group{% if field.errors %} has-error{% endif %}">
	<label>Password</label>
	<div>
	{% render_field admin_form.password1 class+="form-control" %}
	</div>
	</div>

	<div class="form-group{% if field.errors %} has-error{% endif %}">
	<label>Retype password</label>
	<div>
	{% render_field admin_form.password2 class+="form-control" %}
	</div>
	</div>

</div>


<h1>Locations</h1>
<div class="location-formset">

{% for location_form in location_formset %}
<div class="location-form dynamic-form" id="{{ location_form.prefix }}-row">
	<h3>Location information</h3>
	<div {% if forloop.first %} class="hidden"{% endif %}> {{ location_form.operand }}</div>

	<div class="form-group{% if field.errors %} has-error{% endif %}">
	<label>Staff contact's first names</label>
	<div>
	{% render_field location_form.POC_firstname class+="form-control" %} {% render_field location_form.POC_firstname2 class+="form-control" %}
	</div>
	</div>


	<div class="form-group{% if field.errors %} has-error{% endif %}">
	<label>Staff contact's last names
		{{ location_form.POC_lastname.label }}
	</label>
	<div>{% render_field location_form.POC_lastname class+="form-control" %} {% render_field location_form.POC_lastname2 class+="form-control" %}
	</div>
	</div>

	<div class="form-group{% if field.errors %} has-error{% endif %}">
	<label>Main office address</label>
	<div>
	{% render_field location_form.address class+="form-control" %}
	</div>
	</div>

	<div class="form-group{% if field.errors %} has-error{% endif %}">
	<label class="control-label" for="{{ location_form.phone.auto_id }}">
		{{ location_form.phone.label }}
	</label>
	<div>
	{% render_field location_form.phone class+="form-control" %}
	</div>
	</div>

	<div class="form-group{% if field.errors %} has-error{% endif %}">
	<label>Hours of operation</label>
	<div>
	{% render_field location_form.hours_open class+="form-control" %}
	</div>
	</div>

	<div class="form-group{% if field.errors %} has-error{% endif %}">
	<label>Resources needed (hold "Ctrl" to select more than one)</label>
	<div>
	{% render_field location_form.resources_needed class+="form-control" %}
	</div>
	</div>

	<div class="form-group{% if field.errors %} has-error{% endif %}">
	<label>Resources available (hold "Ctrl" to select more than one)</label>
	<div>
	{% render_field location_form.resources_available class+="form-control" %}
	</div>
	</div>
   
	
	<div {% if forloop.first %} class="hidden"{% endif %}>
		<a style="color:black" id="remove-{{ location_form.prefix }}-row" href="javascript:void(0)" class="delete-row">Remove location</a>
	</div>

	<hr>
</div>

{% endfor %}
<div><a style="color:black" href="javascript:void(0)" class="add-row">Add Location</a></div>

{{ location_formset.management_form }}
</div>

<div class="form-group">
	<div>
		<button class="btn btn-default" type="submit" value="Submit">Register</button>
	</div>
</div>

</form>

{% endblock %}